<div class="chat-content card rounded-0 shadow-none mb-0">
  <div class="card-body py-2 px-3 border-bottom">
    <div class="d-flex align-items-center gap-2 py-1">
      <div class="flex-grow-1">
        <p class="mb-0 text-muted">
          {{ 'ROLES_AND_PERMISSIONS.MODULE.LIST_MODULES' | translate }}
        </p>
      </div>
    </div>
  </div>

  <div class="px-3 py-2">
    <div class="app-search py-1">
      <input
        type="text"
        class="form-control border-light bg-light bg-opacity-50 rounded-2"
        placeholder="{{
          'ROLES_AND_PERMISSIONS.MODULE.SEARCH_MODULES' | translate
        }}"
        [(ngModel)]="searchTerm"
        (input)="onSearchInput()"
        (keyup.enter)="searchModules()"
      />
      <i class="app-search-icon ti ti-search text-muted fs-16"></i>
    </div>
  </div>

  <div class="d-flex flex-column overflow-auto scrollbar">
    @let modules = modules$ | async;
    <ngx-simplebar
      class="users-list position-relative list-scroll"
      data-simplebar
    >
      @if (isLoading) {
        <div class="d-flex justify-content-center">
          <div class="spinner-border" role="status"></div>
        </div>
      } @else if (!isLoading) {
        @for (item of modules; track $index) {
          <div
            class="d-flex gap-2 py-1"
            [ngClass]="{
              'selected-module': item.id === selectedModuleId,
            }"
            (click)="selectModule(item.id)"
          >
            <a
              href="javascript:void(0);"
              class="text-body w-100 d-block"
            >
              <div class="chat-users">
                <div class="flex-grow-1 overflow-hidden">
                  <h5 class="mt-0 mb-0 fs-13">{{ item.moduleName }}</h5>
                </div>
              </div>
            </a>
          </div>
        } @empty {
          <div class="d-flex gap-2 py-1">
            <a href="javascript:void(0);" class="text-body w-100 d-block">
              <div class="chat-users">
                <div class="flex-grow-1 overflow-hidden">
                  <h5 class="mt-0 mb-0 fs-13">
                    {{
                      selectedRoleId
                        ? ('ROLES_AND_PERMISSIONS.MODULE.NO_MODULES_FOUND'
                          | translate)
                        : ('ROLES_AND_PERMISSIONS.MODULE.SELECT_ROLE'
                          | translate)
                    }}
                  </h5>
                </div>
              </div>
            </a>
          </div>
        }
      }
    </ngx-simplebar>
  </div>
</div>
